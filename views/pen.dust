<!DOCTYPE html>
<html>
    <head>
        <title>{title}</title>
        <link rel='stylesheet' href='/stylesheets/style.css' />
    </head>
    <body onload="init()">
      {> "partials/menu" /}
      <div id="room-info">
        <span>Name: <span id="room-name" class="info"></span></span>
        <span id="raise-hand" class="info">Ask for help</span>
        <span>Participants: <span id="participants" class="info"></span></span>
        <span id="share-public">Share: <span class="info">Public</span></span>
      </div>
      <ul id="tabs" class="container">
        <li id='newTab' class="switchTab">
          <img src="/images/plus.png">
        </li>
      </ul>
      <div id="pens" class="container">
        <div class="controls">
          <div class="pen">
            <h1>HTML</h1>
            <div id="htmlPen" class="codePane"></div>
          </div>
          <div class="pen">
            <h1>CSS</h1>
            <div id="cssPen" class="codePane"></div>
          </div>
          <div class="pen">
            <h1>JS</h1>
            <div id="jsPen" class="codePane"></div>
          </div>
        </div>
        <div class="preview">
          <iframe id="iFrame" src="/preview.html"></iframe>
        </div>
      </div>
      <div id="room-settings" class='hidden'>
        {> "partials/creator" /}
      </div>
      <div id='preview-modal' class="modal hidden">
        <div class="container">
          <div id="close-modal"></div>
          <iframe id='preview-iframe'></iframe>
          <div id='preview-loaders' class="">
            <button id='modal-share' type="button" name="button">Share pen</button>
            <button id='modal-load' type="button" name="button">Load pen</button>
          </div>
        </div>
      </div>
      <script src="/socket.io/socket.io.js"></script>
      <script src="/scripts/ace/ace.js" charset="utf-8"></script>
      <script src="/scripts/ace/ext-language_tools.js" charset="utf-8"></script>
      <script src="/scripts/dustjs/dust-core.min.js" charset="utf-8"></script>
      <script src="/scripts/views.js" charset="utf-8"></script>
      <script src="/scripts/fetch.js" charset="utf-8"></script>
      <script src="/scripts/parser.js" charset="utf-8"></script>
      {?room}
      <script type="text/javascript">
          const room = {room|s};
          const user = {user|s};
          // localStorage.room = JSON.stringify(r); // eliminate ?
          // localStorage.user = JSON.stringify(u); // eliminate ?
      </script>
      {/room}
      <script src="/scripts/app.js" charset="utf-8"></script>
      <script src="/scripts/navbar.js" charset="utf-8"></script>
      <script src="/scripts/pen.js" charset="utf-8"></script>

    </body>
</html>
